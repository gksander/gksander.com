---
import { PostCard } from "@components/PostCard";
import SectionContainer from "@components/SectionContainer.astro";
import { getCollection } from "astro:content";
import { getPosts } from "src/utils/getPosts";
import { MdArrowRightAlt } from "react-icons/md";

const posts = (await getPosts()).slice(0, 5);
---

<SectionContainer
  title="Recent Posts"
  subtitle="Some things I've written or tinked with lately."
>
  <div class="flex flex-col gap-y-8">
    {posts.map((post) => <PostCard post={post} />)}

    <div>
      <a
        href="/posts"
        class="rounded p-2 -ml-2 text-sm font-bold flex items-center gap-x-1 cursor-pointer w-fit"
      >
        And more <MdArrowRightAlt />
      </a>
    </div>
  </div>
</SectionContainer>
